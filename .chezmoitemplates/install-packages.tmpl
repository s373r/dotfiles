{{- if ne .chezmoi.osRelease.id "fedora" -}}
{{     fail "Only Fedora is supported at the moment!" }}
{{- end -}}

sudo dnf install -y \
{{- if .fix_touchpad_speed }}
    meson libinput-devel libudev-devel \
{{- end }}
    util-linux-user `# for "chsh" command` \
    moreutils `# for "sponge" command` \
{{- if .install_gui_applications }}
    dconf-editor \
    meld \
{{- end }}
    jq \
    htop \
    podman podman-compose \
    zsh

{{ if .install_gui_applications -}}
flatpak remote-add \
    --if-not-exists \
    flathub https://flathub.org/repo/flathub.flatpakrepo

flatpak install flathub -y \
    com.mattjakeman.ExtensionManager \
    com.github.maoschanz.drawing \
    com.spotify.Client \
    com.vscodium.codium \
    io.github.seadve.Kooha \
    org.videolan.VLC \
    com.raggesilver.BlackBox \
    org.telegram.desktop
{{- end -}}
